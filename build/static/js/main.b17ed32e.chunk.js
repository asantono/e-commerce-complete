(this.webpackJsonpstarter=this.webpackJsonpstarter||[]).push([[0],{21:function(e,t,a){e.exports=a.p+"static/media/defaultImg.ff3c3486.jpg"},22:function(e,t,a){e.exports=a.p+"static/media/logo.9f905f2f.svg"},55:function(e,t,a){e.exports=a(93)},85:function(e,t,a){e.exports=a.p+"static/media/books.d6dcb6fb.jpg"},86:function(e,t,a){},93:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),c=a(26),s=a.n(c),l=a(10),o=a(11),u=a(3),i=a.n(u),m=a(6),d=a(9),p=a.n(d),_=a(46),f=a.n(_).a.create({baseURL:"https://e-commerce-papa-santo.herokuapp.com/api/v1",withCredentials:!0,credentials:"include"}),E=a(96),v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:7e3;return function(a){var r=Object(E.a)();a({type:"SET_ALERT",payload:{id:r,msg:e}}),setTimeout((function(){return a({type:"REMOVE_ALERT",payload:r})}),t)}},h=function(e){return function(t){t({type:"LOADING",payload:e})}},b=function(e){return function(){var t=Object(m.a)(i.a.mark((function t(a){var r,n,c,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=p()(),a(h(r)),n={headers:{"Content-Type":"application/json"}},"/stripe/addCardsToUser",c={stripeId:e},t.prev=5,t.next=8,f.post("/stripe/addCardsToUser",c,n);case 8:s=t.sent,a({type:"ADD_CARDS_TO_USER",payload:s.data.cards.data}),t.next=14;break;case 12:t.prev=12,t.t0=t.catch(5);case 14:a(h(r));case 15:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(e){return t.apply(this,arguments)}}()},g=function(e,t,a,r){return function(){var n=Object(m.a)(i.a.mark((function n(c){var s,l,o;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=p()(),c(h(s)),n.prev=2,l={headers:{"Content-Type":"application/json"}},o={token:e,total:t,description:a,cart:r},"/stripe/singlecharge",n.next=8,f.post("/stripe/singlecharge",o,l);case 8:c(x()),c({type:"CHARGE_COMPLETE"}),c(v("Success")),n.next=17;break;case 13:n.prev=13,n.t0=n.catch(2),c(v(n.t0.response.data.message)),console.log(n.t0);case 17:c(h(s));case 18:case"end":return n.stop()}}),n,null,[[2,13]])})));return function(e){return n.apply(this,arguments)}}()},N=function(e,t,a,r,n){return function(){var c=Object(m.a)(i.a.mark((function c(s){var l,o,u;return i.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return l=p()(),s(h(l)),c.prev=2,o={headers:{"Content-Type":"application/json"}},u={token:e,total:t,description:a,cart:r},"/stripe/savecardandcharge",c.next=8,f.post("/stripe/savecardandcharge",u,o);case 8:return s(x()),s({type:"CHARGE_COMPLETE"}),s(v("Success")),c.next=13,s(b(n));case 13:c.next=19;break;case 15:c.prev=15,c.t0=c.catch(2),s(v(c.t0.response.data.message)),console.log(c.t0);case 19:s(h(l));case 20:case"end":return c.stop()}}),c,null,[[2,15]])})));return function(e){return c.apply(this,arguments)}}()},O=function(e,t,a,r){return function(){var n=Object(m.a)(i.a.mark((function n(c){var s,l,o;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=p()(),c(h(s)),n.prev=2,l={headers:{"Content-Type":"application/json"}},o={cardId:e,total:t,description:a,cart:r},"/stripe/chargeSavedCard",n.next=8,f.post("/stripe/chargeSavedCard",o,l);case 8:c(x()),c({type:"CHARGE_COMPLETE"}),c(v("Success")),n.next=17;break;case 13:n.prev=13,n.t0=n.catch(2),c(v(n.t0.response.data.message)),console.log(n.t0);case 17:c(h(s));case 18:case"end":return n.stop()}}),n,null,[[2,13]])})));return function(e){return n.apply(this,arguments)}}()},y=function(e){return function(){var t=Object(m.a)(i.a.mark((function t(a){var r,n,c,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=p()(),a(h(r)),n={headers:{"Content-Type":"application/json"}},c={chargeId:e},"/stripe/getStripeCharge",t.prev=5,t.next=8,f.post("/stripe/getStripeCharge",c,n);case 8:s=t.sent,a({type:"STRIPE_CHARGE_RETRIEVED",payload:s.data.charge}),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(5),console.log(t.t0),a(v(t.t0.response.data.message));case 16:a(h(r));case 17:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(e){return t.apply(this,arguments)}}()},C={headers:{"Content-Type":"application/json"}},j=function(e,t){return function(){var a=Object(m.a)(i.a.mark((function a(r){var n,c,s;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=p()(),r(h(n)),c={email:e,password:t},"/auth/signup",a.prev=4,a.next=7,f.post("/auth/signup",c,C);case 7:s=a.sent,r({type:"GET_USER",payload:s.data.user}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(4),r(v(a.t0.response.data.message));case 14:r(h(n));case 15:case"end":return a.stop()}}),a,null,[[4,11]])})));return function(e){return a.apply(this,arguments)}}()},w=function(e,t){return function(){var a=Object(m.a)(i.a.mark((function a(r){var n,c,s;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=p()(),r(h(n)),c={email:e,password:t},"/auth/login",a.prev=4,a.next=7,f.post("/auth/login",c,C);case 7:if(s=a.sent,r({type:"GET_USER",payload:s.data.user}),!s.data.user.stripeId){a.next=12;break}return a.next=12,r(b(s.data.user.stripeId));case 12:a.next=17;break;case 14:a.prev=14,a.t0=a.catch(4),r(v(a.t0.response.data.message));case 17:r(h(n));case 18:case"end":return a.stop()}}),a,null,[[4,14]])})));return function(e){return a.apply(this,arguments)}}()},x=function(){return function(){var e=Object(m.a)(i.a.mark((function e(t){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/auth/checkuser",a=p()(),t(h(a)),e.prev=3,e.next=6,f.get("/auth/checkuser");case 6:if(r=e.sent,t({type:"GET_USER",payload:r.data.user}),!r.data.user.stripeId){e.next=11;break}return e.next=11,t(b(r.data.user.stripeId));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),t({type:"CHECK_USER_FAIL"});case 16:t(h(a));case 17:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}()},k=function(e){return{type:"SET_CARD",payload:e}},S=function(e){return{type:"SET_USER_COURSE",payload:e}},R=a(2),T=Object(o.h)((function(e){var t=Object(R.c)((function(e){return e.courseReducer})).courses,a="",r="",c="",s="";t[0]&&(a=t[0].title,r=t[0].tagline,c=t[0].adText,s=t[0].img.url);var l=Object(R.b)();return n.a.createElement("div",{className:"cta-top"},n.a.createElement("div",{className:"cta-top__overlay"},n.a.createElement("img",{className:"cta-top__overlay--img",src:s,alt:a})),n.a.createElement("div",{className:"cta-top__textbox"},n.a.createElement("div",{className:"cta-top__textbox--headline"},a),n.a.createElement("div",{className:"cta-top__textbox--story"},r),n.a.createElement("div",{className:"cta-top__textbox--story"},c),n.a.createElement("input",{className:"cta-top__textbox--button",type:"submit",value:"Learn ".concat(a),onClick:function(){return a=t[0],l(S(a)),void e.history.push("/product");var a}})))})),A=a(12),D=a(5),I=a(23),U=function(){var e=window;return{width:e.innerWidth,height:e.innerHeight}},L=function(){var e=Object(r.useState)(U()),t=Object(D.a)(e,2),a=t[0],n=t[1];return Object(r.useEffect)((function(){var e=function(){n(U())};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),a},P=function(e,t){for(var a=0,r=0;r<e.length;r++)e[r].saleOptIn?a+=e[r].price*t:a+=e[r].price;return a},F=function(e,t,a){return function(r){t.sale=a;var n=[].concat(Object(A.a)(e),[t]);r({type:"UPDATE_CART",payload:{cart:n,total:P(n,a)}}),r(v("Added to cart",3e3))}},H={headers:{"Content-Type":"application/json"}},M=function(){return function(){var e=Object(m.a)(i.a.mark((function e(t){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=p()(),t(h(a)),e.prev=2,"/course/sale",e.next=6,f.get("/course/sale");case 6:r=e.sent,t({type:"COURSE_SALE",payload:r.data.sale.sale}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:t(h(a));case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()},G=function(e){return function(){var t=Object(m.a)(i.a.mark((function t(a){var r,n,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=p()(),a(h(r)),0===e&&a({type:"COURSES_RETRIEVED",payload:[]}),t.prev=3,"/course/morecourses",2,n={pageNum:e,limit:2},t.next=9,f.post("/course/morecourses",n,H);case 9:(c=t.sent).data.course.length||a(v("There are no more courses to load")),a({type:"MORE_COURSES_RETRIEVED",payload:c.data.course}),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(3),a(v(t.t0.response.data.message)),console.log(t.t0);case 18:a(h(r));case 19:case"end":return t.stop()}}),t,null,[[3,14]])})));return function(e){return t.apply(this,arguments)}}()},q=function(e){return function(){var t=Object(m.a)(i.a.mark((function t(a){var r,n,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=p()(),a(h(r)),t.prev=2,n={query:e},"/course/searchCourses",t.next=7,f.post("/course/searchCourses",n,H);case 7:c=t.sent,a({type:"COURSE_SEARCH",payload:c.data.course}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(2),a(v(t.t0.response.data.message)),console.log(t.t0);case 15:a(h(r));case 16:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}()},z=function(){return function(){var e=Object(m.a)(i.a.mark((function e(t){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=p()(),t(h(a)),e.prev=2,"/course/createdCourses",e.next=6,f.get("/course/createdCourses");case 6:r=e.sent,t({type:"CREATED_COURSES_RETRIEVED",payload:r.data.course}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),t(v(e.t0.response.data.message)),console.log(e.t0);case 14:t(h(a));case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()},V=a(21),Y=a.n(V),B=function(){var e=Object(r.useState)(0),t=Object(D.a)(e,2),c=t[0],s=t[1],l=Object(r.useState)("course-slider__courses"),u=Object(D.a)(l,2),d=u[0],_=u[1],E=Object(r.useState)(["default"]),b=Object(D.a)(E,2),g=b[0],N=b[1],O=Object(R.c)((function(e){return e.courseReducer})),y=O.courses,C=O.sale,j=Object(R.c)((function(e){return e.cartReducer})).cart,w=Object(o.g)(),x=L().width,k=3;x<=596&&(k=2);var T=Object(A.a)(y),U=Object(R.b)();Object(r.useEffect)((function(){U(function(){var e=Object(m.a)(i.a.mark((function e(t){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=p()(),t(h(a)),e.prev=2,e.next=6,f.get("/course/allcourses");case 6:r=e.sent,t({type:"COURSES_RETRIEVED",payload:r.data.course}),t(M()),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),t(v(e.t0.response.data.message)),console.log(e.t0);case 15:t(h(a));case 16:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}())}),[]),T.length>0&&T.push({title:"See More Courses",price:" varies",author:"our authors",img:{url:a(85),deleteKey:""},position:999999999999,_id:999999999999});var P=T.map((function(e){return n.a.createElement("div",{key:e._id,className:"course-slider__course",onClick:function(){return function(e){999999999999!==e._id?(U(S(e)),w.push("/product")):w.push("/allcourses")}(e)}},n.a.createElement("img",{id:g.includes(e.img.url)?"show":"hide",className:"course-slider__course--img",src:"default"===e.img.url?Y.a:e.img.url,alt:e.name,onLoad:function(){N([].concat(Object(A.a)(g),[e.img.url]))},onError:function(){N([].concat(Object(A.a)(g),[e.img.url]))}}),n.a.createElement("div",{className:"course-slider__course--bottom"},n.a.createElement("div",{className:"course-slider__course--bottom--title"},e.title),n.a.createElement("div",{className:"course-slider__course--bottom--author"},"by: ",e.author),e.saleOptIn&&C?n.a.createElement("div",{className:"course-slider__course--bottom--price"},n.a.createElement("span",{className:"course-slider__course--bottom--strike"},"$",e.price.toFixed(2)),"Sale $",(e.price*C).toFixed(2)):n.a.createElement("div",{className:"course-slider__course--bottom--price"},"$",e.price),999999999999===e.position?n.a.createElement("div",null):n.a.createElement("input",{className:"course-slider__course--bottom--button",type:"submit",value:"add to cart",onClick:function(t){return function(e,t){e.stopPropagation(),U(F(j,t,C))}(t,e)}})))})),H=[];return H=3===k?[P[c],P[c+1],P[c+2]]:[P[c],P[c+1]],n.a.createElement("div",{className:"course-slider"},n.a.createElement("div",{className:"course-slider__title"},"Top Courses"),n.a.createElement("div",{className:"course-slider__underline"}),n.a.createElement("div",{className:"course-slider__container"},0===c?n.a.createElement("div",null):n.a.createElement("div",{className:"course-slider__course--back",onClick:function(e){return function(e){e.stopPropagation(),N(["default"]),_("course-slider__courses course-slider__slideout-right"),setTimeout((function(){s(c-k),_("course-slider__courses course-slider__slidein-right")}),150)}(e)}},n.a.createElement(I.a,null)),n.a.createElement("div",{className:d},H),c+k>=T.length?n.a.createElement("div",null):n.a.createElement("div",{className:"course-slider__course--forward",onClick:function(e){return function(e){e.stopPropagation(),N(["default"]),_("course-slider__courses course-slider__slideout"),setTimeout((function(){s(c+k),_("course-slider__courses course-slider__slidein")}),150)}(e)}},n.a.createElement(I.b,null))))},K=function(){return n.a.createElement(r.Fragment,null,n.a.createElement(T,null),n.a.createElement(B,null))},$=a(22),J=a.n($),W=function(){var e=Object(r.useState)(""),t=Object(D.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)(""),l=Object(D.a)(s,2),u=l[0],d=l[1],p=Object(r.useState)("Login"),_=Object(D.a)(p,2),f=_[0],E=_[1],h=Object(R.b)(),b=Object(o.g)(),g=function(){var e=Object(m.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(u.length<8)){e.next=3;break}return e.abrupt("return",h(v("Passwords must be 8 charaters or more")));case 3:h("Login"===f?w(a,u):j(a,u));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(e){E(e.target.id)},O="Login"===f?"auth__options--login auth__options--clicked":"auth__options--login",y="Signup"===f?"auth__options--login auth__options--clicked":"auth__options--login";return n.a.createElement("div",{className:"auth__container"},n.a.createElement("div",{className:"auth__options"},n.a.createElement("div",{className:O,id:"Login",onClick:function(e){return N(e)}},"Login"),n.a.createElement("div",{className:y,id:"Signup",onClick:function(e){return N(e)}},"Signup")),n.a.createElement("div",{className:"auth"},n.a.createElement("img",{className:"auth__header",src:J.a,alt:"logo"}),n.a.createElement("form",{className:"auth__form",onSubmit:function(e){return g(e)}},n.a.createElement("input",{className:"auth__form--input",type:"email",placeholder:"email",onChange:function(e){return function(e){c(e.target.value)}(e)}}),n.a.createElement("input",{className:"auth__form--input",type:"password",placeholder:"password",onChange:function(e){return function(e){d(e.target.value)}(e)}}),n.a.createElement("input",{className:"auth__form--submit",type:"submit",value:"Submit"}),n.a.createElement("div",{className:"auth__forgot",onClick:function(){b.push("/forgotpassword")}},"forgot your password?"))))},Q=function(){return n.a.createElement("div",{className:"auth-comp"},n.a.createElement("div",{className:"auth-comp__left"}),n.a.createElement("div",{className:"auth-comp__right"},n.a.createElement(W,null)))},Z=function(){return Object(R.c)((function(e){return e.userReducer.user})).clearance?n.a.createElement(o.a,{to:"/"}):n.a.createElement(Q,null)},X=Object(o.h)((function(e){return n.a.createElement("div",{className:"header__left",onClick:function(){e.history.push("/")}},n.a.createElement("img",{className:"header__left--image",src:J.a,alt:"logo"}))})),ee=a(19),te=Object(o.h)((function(e){return n.a.createElement("input",{className:"header__right--login",type:"submit",value:"Login",onClick:function(){e.history.push("./auth")}})})),ae=function(){var e=Object(R.b)(),t=function(){return e(function(){var e=Object(m.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=p()(),t(h(a)),e.prev=3,e.next=6,f.get("/auth/logout");case 6:t({type:"LOGOUT"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),t(v(e.t0.response.data.message));case 12:t(h(a));case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}())};return n.a.createElement("div",{className:"header-menu"},n.a.createElement(ee.c,null),n.a.createElement("div",{className:"header-menu__expand"},n.a.createElement("div",{className:"header-menu__expand--links"},n.a.createElement(l.b,{className:"header-menu__expand--links--text",to:"/OwnedCourses"},"My Courses"),n.a.createElement(l.b,{className:"header-menu__expand--links--text",to:"/allcourses"},"Search"),n.a.createElement(l.b,{className:"header-menu__expand--links--text",to:"/teacherhome"},"Teach"),n.a.createElement("div",{className:"header-menu__expand--links--text",onClick:function(){return t()}},"Logout"))))},re=Object(o.h)((function(e){var t=Object(R.c)((function(e){return e.userReducer.user})).clearance;return n.a.createElement("div",{className:"header__right"},n.a.createElement(ee.d,{className:"header__right--cart",onClick:function(){e.history.push("/cart")}}),t?n.a.createElement(ae,null):n.a.createElement(te,null))})),ne=a(29);var ce=function(){var e=Object(R.c)((function(e){return e.courseReducer})).searchedCourses,t=Object(R.b)(),a=Object(o.g)(),c=function(e){var t=Object(r.useState)(e),a=Object(D.a)(t,2),n=a[0],c=a[1],s=Object(r.useRef)(null),l=function(e){"Escape"===e.key&&c(!1)},o=function(e){s.current&&!s.current.contains(e.target)&&c(!1)};return Object(r.useEffect)((function(){return document.addEventListener("keydown",l),document.addEventListener("click",o),function(){document.removeEventListener("keydown",l),document.removeEventListener("click",o)}})),{ref:s,isComponentVisible:n,setIsComponentVisible:c}}(!0),s=c.ref,l=c.isComponentVisible,u=c.setIsComponentVisible;Object(r.useEffect)((function(){e.length<0||l||(t({type:"COURSE_SEARCH",payload:[]}),u(!0))}),[l]);var i=e.length?"result-box":"result-box result-box__opacity",m=e.map((function(e){return n.a.createElement("div",{className:"result-box__course",key:e._id,onClick:function(){return function(e){999999999999!==e._id?(t(S(e)),t({type:"COURSE_SEARCH",payload:[]}),a.push("/product")):a.push("/allcourses")}(e)}},n.a.createElement("div",{className:"result-box__course--left"},n.a.createElement("div",{className:"result-box__course--left--title"},e.title),n.a.createElement("div",{className:"result-box__course--left--author"},"author: ",e.author)),n.a.createElement("div",{className:"result-box__course--right"},n.a.createElement("div",{className:"result-box__course--right--adText"},e.adText)))}));return n.a.createElement("div",{className:i,ref:s},n.a.createElement("div",{className:"result-box__container"},m))},se=function(){var e=Object(r.useState)(""),t=Object(D.a)(e,2),a=t[0],c=t[1],s=Object(R.b)();Object(r.useEffect)((function(){a.length<3?s({type:"COURSE_SEARCH",payload:[]}):l()}),[a]);var l=function(){s(q(a))};return n.a.createElement("div",{className:"search__wrapper"},n.a.createElement("form",{className:"search__form",onSubmit:function(e){return function(e){e.preventDefault(),s(a?q(a):v("Please type into the search bar before searching"))}(e)}},n.a.createElement(ne.b,{className:"search__icon"}),n.a.createElement("input",{className:"search",type:"text",placeholder:"search",onChange:function(e){return function(e){c(e.target.value)}(e)}})),n.a.createElement(ce,null))},le=function(){return n.a.createElement("div",{className:"header__center"},n.a.createElement(se,null))},oe=function(){var e=Object(R.c)((function(e){return e.userReducer})).checkUser,t=Object(R.b)();return Object(r.useEffect)((function(){e&&t(x())}),[]),n.a.createElement("div",null)},ue=function(){return n.a.createElement(r.Fragment,null,n.a.createElement(oe,null),n.a.createElement("div",{className:"header"},n.a.createElement(X,null),n.a.createElement(le,null),n.a.createElement(re,null)))},ie=function(){return n.a.createElement("div",{className:"footer"},n.a.createElement("div",{className:"footer__page-break"}),n.a.createElement("div",{className:"footer__top"},n.a.createElement(l.b,{className:"footer__top--link",to:"/"},"Home"),n.a.createElement(l.b,{className:"footer__top--link",to:"/allcourses"},"Courses"),n.a.createElement(l.b,{className:"footer__top--link",to:"/contact"},"Contact"),n.a.createElement(l.b,{className:"footer__top--link",to:"about"},"About")),n.a.createElement("div",{className:"footer__lowest"},n.a.createElement("img",{className:"footer__lowest--logo",src:J.a,alt:"lower=footer-logo"}),n.a.createElement("div",{className:"footer__lowest--copyright"},"\xa9 Anthony 'Papa' Santo")))},me=function(){var e=Object(R.c)((function(e){return e.userReducer.userCourse})),t=e.title,a=e.author,r=e.tagline,c=e.adText;return n.a.createElement("div",{className:"product-cta"},n.a.createElement("div",{className:"product-cta__info"},n.a.createElement("div",{className:"product-cta__info--title"},t),n.a.createElement("div",{className:"product-cta__info--tagline"},c),n.a.createElement("div",{className:"product-cta__info--tagline"},r),n.a.createElement("div",{className:"product-cta__info--author"},"Author: ",a)))},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=Object(r.useState)(!1),a=Object(D.a)(t,2),n=a[0],c=a[1];return Object(r.useEffect)((function(){var t=function(){var t=window.scrollY+window.innerHeight+e;document.documentElement.scrollHeight-t<=0?c(!0):c(!1)};return window.addEventListener("scroll",t,{passive:!0}),function(){window.removeEventListener("scroll",t)}}),[]),{tooClose:n,scrollY:window.scrollY,windowHeight:window.innerHeight,documentHeight:document.documentElement.scrollHeight}},pe=function(){var e,t=Object(R.c)((function(e){return e.userReducer})).userCourse,a=Object(R.c)((function(e){return e.cartReducer})).cart,r=Object(R.c)((function(e){return e.courseReducer})).sale,c=t.title,s=t.img,l=t.price,o=t.saleOptIn,u=t.length,i=t.accessType,m=t.certification;e=o&&r?(l*r).toFixed(2):l;var d=Object(R.b)(),p=de(90).tooClose?"product-cta__buynow product-cta__buynow--offset":"product-cta__buynow",_=s.url;return n.a.createElement("div",{className:p},n.a.createElement("img",{className:"product-cta__buynow--top",src:"default"===_?Y.a:_,alt:"top img"}),n.a.createElement("div",{className:"product-cta__buynow--bottom"},n.a.createElement("div",{className:"product-cta__buynow--bottom--price"},"$",e,o&&r?n.a.createElement("span",{className:"product-cta__buynow--bottom--price--slash"},"$",l):null),n.a.createElement("input",{className:"product-cta__buynow--bottom--addtocart",type:"submit",value:"add to cart",disabled:!c,onClick:function(){!function(e){d(F(a,e,r))}(t)}}),n.a.createElement("div",{className:"product-cta__buynow--bottom--points"},n.a.createElement("strong",null,n.a.createElement("u",null,"course includes:")),n.a.createElement("div",{className:"product-cta__buynow--bottom--points--medium"},n.a.createElement("li",null,"length: ",u),n.a.createElement("li",null,"access: ",i),n.a.createElement("li",null,"certification: ",m)))))},_e=function(){var e=Object(R.c)((function(e){return e.userReducer.userCourse})).features.map((function(e){return n.a.createElement("div",{className:"product-features__feature",key:e},n.a.createElement("div",{className:"product-features__feature--check"},n.a.createElement(ne.a,null)),e)}));return n.a.createElement("div",{className:"product-features"},n.a.createElement("div",{className:"product-features__title"},"Topics Covered"),n.a.createElement("div",{className:"product-features__list"},e))},fe=function(){return n.a.createElement(r.Fragment,null,n.a.createElement(me,null),n.a.createElement(_e,null),n.a.createElement(pe,null))},Ee=(a(86),a(18)),ve=a(48),he=a(4),be={user:{clearance:"",email:"",_id:"",stripeId:"",coursesCreated:[],coursesOwned:[]},cards:[],cardToUse:{},checkUser:!0,userCourse:{title:"",author:"",price:"",saleOptIn:!1,length:"",accessType:"lifetime access",certification:"",tagline:"",adText:"",features:["","","","","",""],_id:"",img:{url:"",deleteKey:""}},hash:""},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"GET_USER":return Object(he.a)({},e,{user:r,checkUser:!1});case"LOGOUT":return be;case"CHECK_USER_FAIL":return Object(he.a)({},e,{checkUser:!1});case"ADD_CARDS_TO_USER":return Object(he.a)({},e,{cards:r});case"SET_CARD":return Object(he.a)({},e,{cardToUse:r});case"SET_USER_COURSE":return Object(he.a)({},e,{userCourse:r});case"CREATED_COURSES_RETRIEVED":return Object(he.a)({},e,{user:Object(he.a)({},e.user,{coursesCreated:r})});case"HASH":return Object(he.a)({},e,{hash:r});default:return e}},Ne={alert:[]},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"SET_ALERT":return Object(he.a)({},e,{alert:[].concat(Object(A.a)(e.alert),[r])});case"REMOVE_ALERT":return Object(he.a)({},e,{alert:e.alert.filter((function(e){return e.id!==r}))});default:return e}},ye={cart:[],total:0},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"UPDATE_CART":return Object(he.a)({},e,{cart:r.cart,total:r.total});case"CHARGE_COMPLETE":return ye;default:return e}},je=a(30),we={courses:[],sendImage:!1,coursesCreated:[],sale:1,searchedCourses:[],courseData:{title:"",author:"",price:"",saleOptIn:!1,length:"",accessType:"lifetime access",certification:"",tagline:"",adText:"",features:["","","","","",""],_id:""}},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"COURSES_RETRIEVED":return Object(he.a)({},e,{courses:r});case"MORE_COURSES_RETRIEVED":return Object(he.a)({},e,{courses:[].concat(Object(A.a)(e.courses),Object(A.a)(r))});case"SET_COURSE_DATA":return Object(he.a)({},e,{courseData:Object(he.a)({},e.courseData,Object(je.a)({},r.name,r.value))});case"SET_COURSE_FEATURES":var n=parseInt(r.name),c=Object(A.a)(e.courseData.features);return c[n]=r.value,Object(he.a)({},e,{courseData:Object(he.a)({},e.courseData,{features:c})});case"SALE_OPT_IN":return Object(he.a)({},e,{courseData:Object(he.a)({},e.courseData,{saleOptIn:r})});case"COURSE_CREATED":return Object(he.a)({},e,{coursesCreated:r||[],sendImage:!0});case"EDIT_COURSE_DATA":return Object(he.a)({},e,{courseData:r});case"RESET_COURSE_DATA":return Object(he.a)({},e,{courseData:we.courseData});case"SEND_IMAGE_FALSE":return Object(he.a)({},e,{sendImage:!1});case"SALE":case"COURSE_SALE":return Object(he.a)({},e,{sale:r});case"COURSE_SEARCH":return Object(he.a)({},e,{searchedCourses:r});default:return e}},ke={user:{orders:[]},stripeUser:{},orderDetails:[],stripeOrder:{}},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"ADMIN_GET_USER":return Object(he.a)({},e,{user:r.user,stripeUser:r.stripeUser});case"ADMIN_GET_USER_FAIL":return ke;case"ORDER_DETAILS":return Object(he.a)({},e,{orderDetails:r});case"STRIPE_CHARGE_RETRIEVED":return Object(he.a)({},e,{stripeOrder:r});default:return e}},Re={loading:[]},Te=Object(Ee.combineReducers)({userReducer:ge,alertReducer:Oe,cartReducer:Ce,courseReducer:xe,adminReducer:Se,loadReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"LOADING":return e.loading.includes(r)?Object(he.a)({},e,{loading:e.loading.filter((function(e){return e!==r}))}):Object(he.a)({},e,{loading:[].concat(Object(A.a)(e.loading),[r])});case"STOP_LOADING":return Object(he.a)({},e,{loading:[]});default:return e}}}),Ae=[a(49).a],De=Object(ve.composeWithDevTools)({trace:!0}),Ie=Object(Ee.createStore)(Te,De(Ee.applyMiddleware.apply(void 0,Ae))),Ue=function(){var e=Object(R.c)((function(e){return e.alertReducer})).alert.map((function(e){return n.a.createElement("span",{key:e.id},e.msg)}));return e.length>0?n.a.createElement("div",{className:"alert"},e):null},Le=a(31),Pe=function(){var e=Object(R.c)((function(e){return e.cartReducer})).total;return n.a.createElement("div",{className:"cart-items__total"},"Total: $ ",e.toFixed(2))},Fe=function(){var e=Object(R.c)((function(e){return e.cartReducer})).cart,t=Object(R.c)((function(e){return e.courseReducer})).sale,a=Object(R.b)(),r=function(r){a(function(e,t,a){return function(r){var n=e.filter((function(e){return e._id!==t._id}));r({type:"UPDATE_CART",payload:{cart:n,total:P(n,a)}})}}(e,r,t))},c=e.map((function(a,c){return n.a.createElement("div",{key:a._id},n.a.createElement("div",{className:"cart-item"},n.a.createElement("div",{className:"cart-item__text"},n.a.createElement("div",{className:"cart-item__text--title"},a.title),n.a.createElement("div",{className:"cart-item__text--author"},a.author)),n.a.createElement("div",{className:"cart-item__price"},a.saleOptIn?(a.price*t).toFixed(2):a.price.toFixed(2)),n.a.createElement("div",{className:"cart-item__remove",onClick:function(){return r(a)}},n.a.createElement(Le.a,null))),c+1===e.length?null:n.a.createElement("div",{className:"cart-item__underline"}))}));return n.a.createElement("div",{className:"cart-items__container"},n.a.createElement("div",{className:"cart__title"},"Cart"),n.a.createElement("div",{className:"cart-items"},c," "),n.a.createElement("div",{className:"cart-items__break"}),n.a.createElement(Pe,null))},He=function(){return n.a.createElement("div",{className:"cart"},n.a.createElement(Fe,null))},Me=function(e){var t=Object(R.c)((function(e){return e.userReducer})),a=t.cards,r=t.user.stripeId,c=Object(R.b)(),s=function(e){c(function(e,t){return function(){var a=Object(m.a)(i.a.mark((function a(r){var n,c,s;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=p()(),r(h(n)),a.prev=2,c={headers:{"Content-Type":"application/json"}},s={cardId:e,stripeId:t},"/stripe/deletecard",a.next=8,f.post("/stripe/deletecard",s,c);case 8:r(x()),r({type:"CHARGE_COMPLETE"}),r(v("Deleted")),a.next=17;break;case 13:a.prev=13,a.t0=a.catch(2),console.log(a.t0),r(v(a.t0.response.data.message));case 17:r(h(n));case 18:case"end":return a.stop()}}),a,null,[[2,13]])})));return function(e){return a.apply(this,arguments)}}()}(e,r))},l=e.cancel,o=a.map((function(e){return n.a.createElement("div",{className:"card-picker__list",key:e.id},n.a.createElement("div",{className:"card-picker__list--container",onClick:function(){c(k(e))}},n.a.createElement("div",{className:"card-picker__list--brand"},e.brand),n.a.createElement("div",{className:"card-picker__list--last4"},e.last4)),n.a.createElement("div",{className:"card-picker__list--remove",onClick:function(){return s(e.id)}},n.a.createElement(Le.a,null)))}));return n.a.createElement("div",{className:"stripe-pay"},n.a.createElement("div",{className:"stripe-pay__title"},"Choose A Saved Card"),n.a.createElement("div",{className:"card-picker__padding"}),o,n.a.createElement("div",{className:"card-picker__padding--small"}),n.a.createElement("div",{className:"card-picker__padding--small"}),n.a.createElement("input",{className:"stripe-pay__button",type:"submit",value:"cancel",onClick:function(){return l(!1)}}),n.a.createElement("div",{className:"card-picker__padding--small"}))},Ge=a(20),qe=function(){var e=Object(R.c)((function(e){return e.cartReducer})).cart,t=Object(R.c)((function(e){return e.userReducer})),a=t.cardToUse,c=t.user,s=c.stripeId,l=c.coursesOwned,o=Object(r.useState)(!1),u=Object(D.a)(o,2),d=u[0],p=u[1],_=Object(r.useState)(!1),f=Object(D.a)(_,2),E=f[0],h=f[1],b=Object(Ge.useStripe)(),y=Object(Ge.useElements)(),C=Object(R.b)(),j=Object(R.c)((function(e){return e.cartReducer})).total,w="Purchase From <BLANK> Store",x=d?"radio radio--fill":"radio",S=E?"radio radio--fill":"radio",T=function(){var e=Object(m.a)(i.a.mark((function e(){var t,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b&&y){e.next=2;break}return e.abrupt("return");case 2:return t=y.getElement(Ge.CardElement),e.prev=3,e.next=6,b.createToken(t);case 6:return a=e.sent,r=a.token,e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}(),I=function(){var t=Object(m.a)(i.a.mark((function t(r){var n,o,u,m,p;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),c._id){t.next=4;break}return C(v("Please loggin or create an account to complete your order")),t.abrupt("return");case 4:for(n=[],o=function(t){e.some((function(e){return e._id===l[t]._id}))&&(n=[].concat(Object(A.a)(n),[l[t].title]))},u=0;u<l.length;u++)o(u);if(!n.length){t.next=11;break}return m=n.length>1?"these courses":"this course",C(v("You already own ".concat(n.join(", "),", please remove ").concat(m," from your cart"))),t.abrupt("return");case 11:if(!a.id){t.next=14;break}return C(O(a.id,j,w,e)),t.abrupt("return");case 14:return t.next=16,T();case 16:if(p=t.sent){t.next=20;break}return C(v("Payment cannot be submitted")),t.abrupt("return");case 20:if(d){t.next=23;break}return C(g(p,j,w,e)),t.abrupt("return");case 23:if(!d){t.next=26;break}return C(N(p,j,w,e,s)),t.abrupt("return");case 26:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),U=n.a.createElement("form",{className:"stripe-pay",onSubmit:I},n.a.createElement("div",{className:"stripe-pay__title"},"Checkout"),n.a.createElement("div",{className:"stripe-pay__grid"},n.a.createElement("div",{className:"stripe-pay__row"},E&&a.id?n.a.createElement("div",{className:"stripe-pay__card-picked",onClick:function(){C(k({}))}},n.a.createElement("div",{className:"card-picker__list--brand"},a.brand),n.a.createElement("div",{className:"card-picker__list--last4"},a.last4)):n.a.createElement(Ge.CardElement,{options:{style:{base:{fontSize:"16px","::placeholder":{color:"#aab7c4",fontFamily:"sans-sarif"}},invalid:{color:"#e9327c"}}}}))),n.a.createElement("div",{className:"stripe-pay__row stripe-pay__row-radio"},n.a.createElement("div",{className:S,onClick:function(){return E||p(!1),C(k({})),void h(!E)}},"use saved card"),n.a.createElement("div",{className:x,onClick:function(){return d||h(!1),void p(!d)}},"save card")),n.a.createElement("div",{className:"stripe-pay__row"},n.a.createElement("button",{className:"stripe-pay__button",disabled:!b},"Pay")));return E&&!a.id&&(U=n.a.createElement(Me,{cancel:h})),n.a.createElement(r.Fragment,null,U)},ze=function(){return n.a.createElement(r.Fragment,null,n.a.createElement(He,null),n.a.createElement(qe,null))},Ve=function(){var e=Object(R.c)((function(e){return e.userReducer.user})).coursesOwned,t=Object(R.b)(),a=Object(o.g)(),r="No Courses Found";return e.length>0&&(r=e.map((function(e){return n.a.createElement("div",{className:"my-courses__course",key:e._id,onClick:function(){return function(e){t(S(e)),a.push("/activecourse")}(e)}},n.a.createElement("img",{className:"my-courses__image",src:"default"===e.img.url?Y.a:e.img.url,alt:"not found"}),n.a.createElement("div",{className:"my-courses__name-description"},n.a.createElement("div",{className:"my-courses__name"},e.title),n.a.createElement("div",{className:"my-courses__author"},e.author),n.a.createElement("div",{className:"my-courses__description"},e.tagline)))}))),n.a.createElement("div",{className:"my-courses"},n.a.createElement("div",{className:"my-courses__title"},"Owned Courses"),n.a.createElement("div",{className:"my-courses__course-container"},r))},Ye=function(){return n.a.createElement(Ve,null)},Be=a(50),Ke=function(){var e=Object(R.c)((function(e){return e.userReducer})).userCourse;return n.a.createElement("div",{className:"current-course"},n.a.createElement("div",{className:"current-course__title"},e.title),n.a.createElement("div",{className:"current-course__message"},"You have successfully gained access to the course!!!"),n.a.createElement("div",{className:"current-course__thank-you"},"Thank you for viewing my e-commerce application"))},$e=function(){return n.a.createElement(Ke,null)},Je=a(54),We=function(){var e=Object(R.c)((function(e){return e.courseReducer})),t=e.sendImage,a=e.coursesCreated._id,c=Object(r.useState)([]),s=Object(D.a)(c,2),l=s[0],u=s[1],d=new FormData,_=Object(Je.a)({accept:"image/*",maxFiles:1,maxSize:5e6,minSize:1e3,onDrop:function(e){d.append("files",e[0]),u(e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})))}}),E=_.getRootProps,b=_.getInputProps,g=_.fileRejections,N=Object(R.b)(),O=Object(o.g)();Object(r.useEffect)((function(){return t&&(N(function(e,t){return function(){var a=Object(m.a)(i.a.mark((function a(r){var n,c,s,l,o;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=p()(),r(h(n)),e.length){a.next=7;break}return r(z()),r({type:"SEND_IMAGE_FALSE"}),r(h(n)),a.abrupt("return");case 7:return(c=new FormData).append("images",e[0]),s=c,l={headers:{"Content-Type":"multipart/form-data"}},a.prev=11,r({type:"SEND_IMAGE_FALSE"}),o="/course/uploadImage/".concat(t),a.next=16,f.post(o,s,l);case 16:r(z()),a.next=22;break;case 19:a.prev=19,a.t0=a.catch(11),r(v(a.t0.response.data.message));case 22:r(h(n));case 23:case"end":return a.stop()}}),a,null,[[11,19]])})));return function(e){return a.apply(this,arguments)}}()}(l,a)),O.replace("/teacherhome")),function(){return O.replace("/teacherhome")}}),[t]);var y=g.map((function(e){var t=e.file,a=e.errors;return n.a.createElement("li",{key:t.path},t.path," - ",t.size," bytes",n.a.createElement("ul",null,a.map((function(e){return n.a.createElement("li",{key:e.code},e.message)}))))})),C=l.map((function(e){return n.a.createElement("div",{className:"dropzone__preview",key:e.name},n.a.createElement("img",{className:"dropzone__preview--image",src:e.preview,alt:"preview failed"}))}));return Object(r.useEffect)((function(){return function(){l.forEach((function(e){return URL.revokeObjectURL(e.preview)}))}}),[l]),n.a.createElement("div",{className:"dropzone__flexed"},n.a.createElement("div",E({className:"dropzone"}),n.a.createElement("input",b()),n.a.createElement("div",{className:"dropzone__container"}),n.a.createElement("div",{className:"dropzone__text"},"Drag 'n' drop your course image here"),n.a.createElement("div",{className:"dropzone__text"}," or "),n.a.createElement("div",{className:"dropzone__button"},"select your course image"),n.a.createElement("div",{className:"dropzone__max"},"max: 1 image")),n.a.createElement("div",null,y),n.a.createElement("div",null,C))},Qe=function(){var e=Object(R.c)((function(e){return e.courseReducer.courseData})),t=e.saleOptIn,a=e.title,c=e.author,s=e.price,l=e.length,o=e.accessType,u=e.certification,d=e.tagline,_=e.adText,E=e.features,b=e._id,g=Object(R.c)((function(e){return e.userReducer.user})).clearance,N=Object(R.b)(),O=function(e){var t=e.target,a=t.name,r=t.value;N(function(e,t){return{type:"SET_COURSE_DATA",payload:{name:e,value:t}}}(a,r))},y=function(e){var t=e.target,a=t.name,r=t.value;N(function(e,t){return{type:"SET_COURSE_FEATURES",payload:{name:e,value:t}}}(a,r))},C=function(e){var r,n;e.preventDefault(),N((r={saleOptIn:t,title:a,author:c,price:s,length:l,accessType:o,certification:u,tagline:d,adText:_,features:E,_id:b},n={edit:!!b},function(){var e=Object(m.a)(i.a.mark((function e(t){var a,c,s,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=p()(),t(h(a)),c=r,e.prev=3,s=n.edit?"/course/editCourse":"/course/createCourse",e.next=7,f.post(s,c,H);case 7:l=e.sent,t({type:"COURSE_CREATED",payload:l.data.newCourse}),t(v("Success")),t(x()),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),t(v(e.t0.response.data.message)),console.log(e.t0);case 17:t(h(a));case 18:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}()))},j=n.a.createElement("div",{className:"forgot-password__title"},"Please sign up or login to create a course");return n.a.createElement(r.Fragment,null,g?n.a.createElement("form",{className:"teach",onSubmit:function(e){return C(e)}},n.a.createElement("div",{className:"teach__title"},"Create Your Course"),n.a.createElement(We,null),n.a.createElement("div",{className:"teach__questions"},n.a.createElement("div",{className:"teach__row"},n.a.createElement("div",{className:"teach__text"},"Course Title: "),n.a.createElement("input",{className:"teach__input",name:"title",onChange:function(e){return O(e)},placeholder:"course title",value:a,required:!0})),n.a.createElement("div",{className:"teach__row"},n.a.createElement("div",{className:"teach__text"},"Author: "),n.a.createElement("input",{className:"teach__input",name:"author",placeholder:"author",onChange:function(e){return O(e)},value:c,required:!0})),n.a.createElement("div",{className:"teach__row"},n.a.createElement("div",{className:"teach__text"},"Price: "),n.a.createElement("input",{className:"teach__input",type:"number",min:"0",step:"1",name:"price",placeholder:"price",onChange:function(e){return O(e)},value:s,required:!0})),n.a.createElement("div",{className:"teach__row"},n.a.createElement("div",{className:"teach__text"},"Course length: "),n.a.createElement("input",{className:"teach__input",name:"length",placeholder:"in hours",onChange:function(e){return O(e)},value:l,required:!0})),n.a.createElement("div",{className:"teach__row"},n.a.createElement("div",{className:"teach__text"},"Certification: "),n.a.createElement("input",{className:"teach__input",name:"certification",placeholder:"certification type",onChange:function(e){return O(e)},value:u,required:!0})),n.a.createElement("div",{className:"teach__row"},n.a.createElement("div",{className:"teach__text"},"Join Sales: "),n.a.createElement("input",{type:"radio",name:"saleOptIn",onClick:function(){return function(){var e=!0;!0===t&&(e=!1),N(function(e){return{type:"SALE_OPT_IN",payload:e}}(e))}()},onChange:function(){return"just to clear the error code"},checked:t,className:"teach__input teach__input--radio",placeholder:"author"})),n.a.createElement("div",{className:"teach__row"},n.a.createElement("div",{className:"teach__text"},"Tagline: "),n.a.createElement("textarea",{className:"teach__input-area",name:"tagline",placeholder:"a sentence or two describing the course",onChange:function(e){return O(e)},value:d,required:!0})),n.a.createElement("div",{className:"teach__row"},n.a.createElement("div",{className:"teach__text"},"Ad Text: "),n.a.createElement("textarea",{className:"teach__input-area",name:"adText",placeholder:"a few sentences advertising the course",onChange:function(e){return O(e)},value:_,required:!0})),n.a.createElement("div",{className:"teach__row"},n.a.createElement("div",{className:"teach__text"},"Features: "),n.a.createElement("div",{className:"teach__features"},n.a.createElement("input",{className:"teach__input",placeholder:"feature one",name:0,onChange:function(e){return y(e)},value:E[0],required:!0}),n.a.createElement("input",{className:"teach__input",placeholder:"feature two",name:1,onChange:function(e){return y(e)},value:E[1],required:!0}),n.a.createElement("input",{className:"teach__input",placeholder:"feature three",name:2,onChange:function(e){return y(e)},value:E[2],required:!0}),n.a.createElement("input",{className:"teach__input",placeholder:"feature four",name:3,onChange:function(e){return y(e)},value:E[3],required:!0}),n.a.createElement("input",{className:"teach__input",placeholder:"feature five",name:4,onChange:function(e){return y(e)},value:E[4],required:!0}),n.a.createElement("input",{className:"teach__input",placeholder:"feature six",name:5,onChange:function(e){return y(e)},value:E[5],required:!0}))),n.a.createElement("div",{className:"teach__row"},n.a.createElement("div",{className:"teach__text"},"Student access: "),n.a.createElement("select",{className:"teach__input teach__input--select",name:"accessType",onChange:function(e){return O(e)},required:!0},n.a.createElement("option",{value:"lifetime access"},"lifetime access"),n.a.createElement("option",{value:"semester end"},"semester end")))),n.a.createElement("input",{className:"teach__button",value:"submit",type:"submit"})):j)},Ze=function(){return n.a.createElement(Qe,null)},Xe=function(){var e=Object(R.c)((function(e){return e.userReducer.user})).coursesCreated,t=Object(r.useState)(""),a=Object(D.a)(t,2),c=a[0],s=a[1],l=Object(R.b)(),u=Object(o.g)(),d=null,_=function(e){var t;e?(l((t=c,function(){var e=Object(m.a)(i.a.mark((function e(a){var r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=p()(),a(h(r)),n={_id:t},e.prev=3,e.next=7,f.post("/course/deleteCourse",n,H);case 7:a(v("Course Deleted")),a(x()),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),a(v(e.t0.response.data.message)),console.log(e.t0);case 15:a(h(r));case 16:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}())),s("")):s("")};e.length>0&&(d=e.map((function(e){return n.a.createElement("div",{className:"teach-courses__list",key:e._id,onClick:function(){return function(e){l(S(e)),u.push("/product")}(e)}},n.a.createElement("div",{className:"teach-courses__list--left"},n.a.createElement("div",{className:"teach-courses__list--left--title"},e.title)),n.a.createElement("div",{className:"teach-courses__list--right"},n.a.createElement("input",{className:"teach-courses__list--right--edit",type:"submit",value:"edit",onClick:function(t){return function(e,t){e.stopPropagation(),l({type:"EDIT_COURSE_DATA",payload:t}),u.push("/teachers")}(t,e)}}),n.a.createElement("input",{className:"teach-courses__list--right--delete",type:"submit",value:"delete",onClick:function(t){return function(e,t){e.stopPropagation(),s(t)}(t,e._id)}})))})));var E=n.a.createElement("div",{className:"teach-courses__delete-dialogue"},n.a.createElement("div",{className:"teach-courses__delete-dialogue--top"},"Delete Course?"),n.a.createElement("div",{className:"teach-courses__delete-dialogue--bottom"},n.a.createElement("div",{className:"teach-courses__delete-dialogue--bottom--left"},n.a.createElement("input",{className:"teach-courses__list--right--delete",type:"submit",value:"Delete",onClick:function(){return _(!0)}})),n.a.createElement("div",{className:"teach-courses__delete-dialogue--bottom--right"},n.a.createElement("input",{className:"teach-courses__list--right--edit",type:"submit",value:"Cancel",onClick:function(){return _(!1)}}))));return n.a.createElement(r.Fragment,null,c?n.a.createElement("div",null,E):null,n.a.createElement("div",{className:"teach-courses"},n.a.createElement("input",{className:"teach-courses__create",type:"submit",value:"Create A New Course",onClick:function(){return l({type:"RESET_COURSE_DATA"}),void u.push("/teachers")}}),n.a.createElement("div",{className:"teach-courses__title"},"Created Courses"),n.a.createElement("div",{className:"teach-courses__list-container"},d)))},et=function(){return n.a.createElement(Xe,null)},tt=a(52),at=a.n(tt),rt={headers:{"Content-Type":"application/json"}},nt=function(){var e=Object(R.c)((function(e){return e.adminReducer})).user,t=Object(R.c)((function(e){return e.courseReducer})).sale,a=Object(R.c)((function(e){return e.userReducer.user})).clearance,c=e.orders;Object(r.useEffect)((function(){N(M())}),[]);var s=Object(r.useState)(""),l=Object(D.a)(s,2),u=l[0],d=l[1],_=Object(r.useState)(""),E=Object(D.a)(_,2),b=E[0],g=E[1],N=Object(R.b)(),O=Object(o.g)(),y=function(e){var t;e.preventDefault(),N((t=u,function(){var e=Object(m.a)(i.a.mark((function e(a){var r,n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=p()(),a(h(r)),n={email:t},e.prev=4,e.next=7,f.post("/admin/getuser",n,rt);case 7:c=e.sent,a({type:"ADMIN_GET_USER",payload:c.data}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),a({type:"ADMIN_GET_USER_FAIL"}),a(v(e.t0.response.data.message));case 15:a(h(r));case 16:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()))},C=function(e){e.preventDefault(),(!b||b>1)&&N(v("Sale Numbers must be between 0 and 1")),N(function(e){return function(){var t=Object(m.a)(i.a.mark((function t(a){var r,n,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=p()(),a(h(r)),n={sale:e},"/admin/sale",t.prev=4,t.next=7,f.post("/admin/sale",n,rt);case 7:c=t.sent,a({type:"SALE",payload:c.data.sale}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),a(v(t.t0.response.data.message));case 14:a(h(r));case 15:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(e){return t.apply(this,arguments)}}()}(b))},j=[];c&&(j=c.sort((function(e,t){return t[0].date-e[0].date})).map((function(e){return n.a.createElement("div",{className:"admin__order",key:e[0].date,onClick:function(){!function(e){N(function(e){return{type:"ORDER_DETAILS",payload:e}}(e)),O.push("/adminorder")}(e)}},n.a.createElement("div",{className:"admin__order--left"},n.a.createElement("div",{className:"admin__order--date"},at()(e[0].date).format("MM/DD/YYYY, HH:mm"))),n.a.createElement("div",{className:"admin__order--right"},n.a.createElement("div",{className:"admin__order--titles"},e.map((function(e){return n.a.createElement("div",{className:"admin__order--titles--title"},e.title)})))))})));var w=n.a.createElement("div",{className:"forgot-password__title"},"You do not have the required permissions to view this page");return n.a.createElement(r.Fragment,null,"admin"!==a?w:n.a.createElement("div",{className:"admin"},n.a.createElement("div",{className:"admin__title"},"User Search"),n.a.createElement("form",{className:"admin__form",onSubmit:function(e){y(e)}},n.a.createElement("input",{className:"search",type:"text",placeholder:"username",onChange:function(e){return function(e){d(e.target.value)}(e)}})),n.a.createElement("div",{className:"admin__results--title"},"User Info"),n.a.createElement("div",{className:"admin__results"},n.a.createElement("div",null,"email: ",e.email),n.a.createElement("div",null,"stripe ID: ",e.stripeId),n.a.createElement("div",null,"clearance: ",e.clearance)),n.a.createElement("div",{className:"admin__results--title"},"Orders"),n.a.createElement("div",{className:"admin__orders-container"},j),n.a.createElement("div",{className:"admin__results--title"},"Sale Update"),n.a.createElement("form",{className:"admin__sale",onSubmit:function(e){return C(e)}},n.a.createElement("input",{type:"input",className:"admin__sale--input",placeholder:"ex: 0.2 = 80% off",onChange:function(e){return function(e){g(e.target.value)}(e)}}),n.a.createElement("div",{className:"admin__sale--current"},"current sale: ",t))))},ct=function(){return n.a.createElement(nt,null)},st=function(e){var t,a=e.stripeOrder,c=a.id,s=Object(R.b)(),l=Object(r.useState)(0),o=Object(D.a)(l,2),u=o[0],d=o[1],_=function(e){var r,n;(e.preventDefault(),u<=0)?s(v("Refunds must have a price")):((t=Math.floor(100*u))>a.amount-a.amount_refunded&&s(v("The refund amount is greater than the amount paid minus the amount already refunded")),s((r=c,n=t,function(){var e=Object(m.a)(i.a.mark((function e(t){var a,c,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=p()(),t(h(a)),c={headers:{"Content-Type":"application/json"}},s={chargeId:r,amount:n},e.prev=5,e.next=8,f.post("/stripe/refundStripeCharge",s,c);case 8:t(v("Refund Successful")),t(y(r)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),console.log(e.t0),t(v(e.t0.response.data.message));case 16:t(h(a));case 17:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}())))};return n.a.createElement("div",{className:"order-refund"},n.a.createElement("div",{className:"admin__title admin-order__remove-margin"},"Issue Refund"),n.a.createElement("form",{className:"order-refund__form",onSubmit:function(e){return _(e)}},n.a.createElement("input",{className:"order-refund__form--input",type:"num",placeholder:"refund amount",value:u,onChange:function(e){return function(e){d(e.target.value)}(e)}}),n.a.createElement("input",{className:"order-refund__form--button",type:"submit",value:"issue refund"})))},lt=function(){var e=Object(R.c)((function(e){return e.adminReducer})),t=e.orderDetails,a=e.stripeOrder,c=Object(R.b)();Object(r.useEffect)((function(){t[0]&&c(y(t[0].chargeId))}),[t]);var s=t.map((function(e){return n.a.createElement("div",{className:"admin-order__order",key:e._id},n.a.createElement("div",{className:"admin-order__order--row"},"title: ",e.title),n.a.createElement("div",{className:"admin-order__order--row"},"Access: ",e.accessType),n.a.createElement("div",{className:"admin-order__order--row"},"author: ",e.author),n.a.createElement("div",{className:"admin-order__order--row"},"price: ",e.price.toFixed(2)),n.a.createElement("div",{className:"admin-order__order--row"},"sale: ",e.sale),n.a.createElement("div",{className:"admin-order__order--row"},"price paid: ",e.saleOptIn?(e.sale*e.price).toFixed(2):e.price),n.a.createElement("div",{className:"admin-order__order--row"},"saleOptIn: ",e.saleOptIn?"Yes":"No"),n.a.createElement("div",{className:"admin-order__order--row"},"chargeId: ",e.chargeId))}));return n.a.createElement("div",{className:"admin-order"},n.a.createElement("div",{className:"admin__title"},"Order Details"),n.a.createElement("div",{className:"admin-order__container"},s),n.a.createElement("div",{className:"admin__title admin-order__remove-margin"},"Payment Details"),n.a.createElement("div",{className:"admin-order__order admin-order__add-margin--three"},n.a.createElement("div",{className:"admin-order__order--row"},"Price Paid: ",(a.amount/100).toFixed(2)),n.a.createElement("div",{className:"admin-order__order--row"},"Amount Refunded: ",(a.amount_refunded/100).toFixed(2))),n.a.createElement(st,{stripeOrder:a}))},ot=function(){return n.a.createElement(lt,null)},ut=function(){var e=Object(R.c)((function(e){return e.courseReducer})).courses,t=Object(r.useState)(0),a=Object(D.a)(t,2),c=a[0],s=a[1],l=Object(R.b)(),u=Object(o.g)();Object(r.useEffect)((function(){return l(G(c)),s(c+1),function(){s(0)}}),[]);var i=e.map((function(e){return n.a.createElement("div",{className:"result-box__course",key:e._id,onClick:function(){return function(e){l(S(e)),u.push("/product")}(e)}},n.a.createElement("div",{className:"result-box__course--left"},n.a.createElement("div",{className:"result-box__course--left--title"},e.title),n.a.createElement("div",{className:"result-box__course--left--author"},"author: ",e.author)),n.a.createElement("div",{className:"result-box__course--right"},n.a.createElement("div",{className:"result-box__course--right--adText"},e.adText)))}));return n.a.createElement("div",{className:"all-courses"},n.a.createElement("div",{className:"all-courses__title"},"Course List"),n.a.createElement("div",{className:"course-slider__underline"}),i,n.a.createElement("input",{className:"all-courses__load",type:"submit",value:"load more",onClick:function(){return l(G(c)),void s(c+1)}}))},it=function(){return n.a.createElement(ut,null)},mt=function(){var e=Object(r.useState)(""),t=Object(D.a)(e,2),a=t[0],c=t[1],s=Object(R.b)(),l=function(e){e.preventDefault(),s(function(e){return function(){var t=Object(m.a)(i.a.mark((function t(a){var r,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"/auth/forgotpassword",r={email:e},n=p()(),a(h(n)),t.prev=4,t.next=7,f.post("/auth/forgotpassword",r,C);case 7:a(v("Password Reset Email Sent")),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(4),a(v(t.t0.response.data.message));case 13:a(h(n));case 14:case"end":return t.stop()}}),t,null,[[4,10]])})));return function(e){return t.apply(this,arguments)}}()}(a))};return n.a.createElement("form",{className:"forgot-password",onSubmit:function(e){return l(e)}},n.a.createElement("div",{className:"forgot-password__title"},"Password Reset"),n.a.createElement("div",{className:"forgot-password__subtitle"},"Enter your email"),n.a.createElement("input",{className:"search",type:"email",placeholder:"email",onChange:function(e){return function(e){c(e.target.value)}(e)}}),n.a.createElement("input",{className:"forgot-password__button",type:"submit",value:"reset password"}))},dt=function(){return n.a.createElement(mt,null)},pt=function(){var e,t=Object(r.useState)(""),a=Object(D.a)(t,2),c=a[0],s=a[1],l=Object(R.c)((function(e){return e.userReducer})).hash,u=Object(R.b)(),d=Object(o.g)();Object(r.useEffect)((function(){e=d.location.pathname.split("/"),u(function(e){return{type:"HASH",payload:e}}(e[e.length-1])),d.replace("/resetpassword")}),[]);var _=function(e){e.preventDefault(),u(function(e,t){return function(){var a=Object(m.a)(i.a.mark((function a(r){var n,c;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return"/auth/passwordreset",n={password:e,hash:t},c=p()(),r(h(c)),a.prev=4,a.next=7,f.post("/auth/passwordreset",n,C);case 7:r(v("Success")),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(4),r(v(a.t0.response.data.message));case 13:r(h(c));case 14:case"end":return a.stop()}}),a,null,[[4,10]])})));return function(e){return a.apply(this,arguments)}}()}(c,l))};return n.a.createElement("form",{className:"forgot-password",onSubmit:function(e){return _(e)}},n.a.createElement("div",{className:"forgot-password__title"},"Password Reset"),n.a.createElement("div",{className:"forgot-password__subtitle"},"Enter a new password"),n.a.createElement("input",{className:"search",type:"password",placeholder:"new password",onChange:function(e){return function(e){s(e.target.value)}(e)}}),n.a.createElement("input",{className:"forgot-password__button",type:"submit",value:"reset password"}))},_t=function(){return n.a.createElement(pt,null)},ft=a(53),Et=a.n(ft),vt=function(){var e=Object(R.c)((function(e){return e.loadReducer})).loading,t=n.a.createElement("div",{className:"load-screen"},n.a.createElement(Et.a,{color:"#1dace3",loading:!0,size:150}));return n.a.createElement("div",null,e.length>0?t:null)},ht=function(){return n.a.createElement("div",{className:"contact"},n.a.createElement("div",{className:"contact__title"},"Contact"),n.a.createElement("div",{className:"contact__message"},"Please contact me through email or social media:"),n.a.createElement("a",{className:"contact__email",href:"mailto: emailpapasanto@gmail.com"},n.a.createElement("span",{className:"contact__email--black"},"Email:")," ","EmailPapaSanto@gmail.com"),n.a.createElement("div",{className:"contact__social"},n.a.createElement("a",{className:"contact__social--youtube",href:"https://www.youtube.com/channel/UC3b871DqOlA5tKbizv4J6mg",target:"_blank",rel:"noopener noreferrer"},n.a.createElement(ee.b,null)),n.a.createElement("a",{className:"contact__social--facebook",href:"https://www.facebook.com/PapaSantoCodes",target:"_blank",rel:"noopener noreferrer"},n.a.createElement(I.c,null)),n.a.createElement("a",{className:"contact__social--linkedin",href:"https://www.facebook.com/PapaSantoCodes",target:"_blank",rel:"noopener noreferrer"},n.a.createElement(I.d,null)),n.a.createElement("a",{className:"contact__social--linkedin",href:"https://www.linkedin.com/in/anthonyjsanto/",target:"_blank",rel:"noopener noreferrer"},n.a.createElement(ee.a,null))))},bt=function(){return n.a.createElement(ht,null)},gt=function(){return n.a.createElement("div",{className:"about"},n.a.createElement("div",{className:"about__title"},"About"),n.a.createElement("div",{className:"about__message"},"Thank you for viewing my e-commerce application I have developed this app as part of my personal resume, and as a teaching tool for my YouTube programming channel. A link to the Repository and the youTube course can be found below:",n.a.createElement("div",{className:"about__message--tech"},"Tech Stack: React, Node, Express, MongoDB, SCSS, CSS"),n.a.createElement("div",{className:"about__message--link"},n.a.createElement("a",{href:"https://github.com/asantono/e-commerce",target:"_blank",rel:"noopener noreferrer"},n.a.createElement("span",{className:"about__message--link--black"},"Repository:")," ","Application Repository")),n.a.createElement("div",{className:"about__message--link"},n.a.createElement("a",{href:"https://youtube.com/playlist?list=PL_kocBMOO_TxyQvK_u2AaCEwo4A59TTtN",target:"_blank",rel:"noopener noreferrer"},n.a.createElement("span",{className:"contact__email--black"},"YouTube Course:")," ","Course Playlist"))),n.a.createElement("div",{className:"about__features"},n.a.createElement("div",{className:"about__features--title"},"Features"),n.a.createElement("ul",{className:"about__features--list"},n.a.createElement("li",null,"Stripe Payment Integration"),n.a.createElement("li",null,"Redux & Redux Thunk"),n.a.createElement("li",null,"React Custom Hooks"),n.a.createElement("li",null,"Front-End & Back-End Form Validation"),n.a.createElement("li",null,"JWT Stateless Authentication"),n.a.createElement("li",null,"Password Reset Ability"),n.a.createElement("li",null,"Type-To-Search Search Bar"),n.a.createElement("li",null,"Admin Orders Search with Refund Ability"),n.a.createElement("li",null,"Nodemailer Integration with SendGrid"),n.a.createElement("li",null,"Amazon S3 For Image C.R.U.D."),n.a.createElement("li",null,"Shopping Cart Logic"),n.a.createElement("li",null,"React Custom Hooks"),n.a.createElement("li",null,"Image Uploads with DropZone"),n.a.createElement("li",null,"Alert System with UUID/v4"),n.a.createElement("li",null,"Date Displays with Moment"),n.a.createElement("li",null,"Responsive Design"),n.a.createElement("li",null,"Custom Slider Component"),n.a.createElement("li",null,"Custom Sticky Call To Action Component"),n.a.createElement("li",null,"Custom Image Overlay Components"),n.a.createElement("li",null,"Custom Card Components"),n.a.createElement("li",null,"Custom Shopping Cart Component"),n.a.createElement("li",null,"Async Behaivor & Loading Screen"),n.a.createElement("li",null,"Implemented React Spinners & React Icons"),n.a.createElement("li",null,"Styled with SCSS"))),n.a.createElement("div",{className:"about__instructions"},n.a.createElement("div",{className:"about__features--title"},"Using the Site"),n.a.createElement("div",{className:"about__instructions--message"},"You can search courses and interact with the shopping cart without creating an account. In order to, create courses, make purchases and more, you must create an account.",n.a.createElement("div",{className:"about__instructions--message--break"},"All transactions are in test mode. I suggest using a test credit card to make any purchases. They will be supplied to you in the welcome email."))))},Nt=function(){return n.a.createElement(gt,null)};var Ot=function(){var e=Object(Be.a)("pk_test_f40hadtOBUc7xHciDxHF1R8x00VpO3OS3y");return n.a.createElement(R.a,{store:Ie},n.a.createElement(vt,null),n.a.createElement(l.a,null,n.a.createElement(ue,null),n.a.createElement("div",{className:"page-container"},n.a.createElement(Ue,null),n.a.createElement(Ge.Elements,{stripe:e},n.a.createElement(o.d,null,n.a.createElement(o.b,{exact:!0,path:"/auth"},n.a.createElement(Z,null)),n.a.createElement(o.b,{exact:!0,path:"/product"},n.a.createElement(fe,null)),n.a.createElement(o.b,{exact:!0,path:"/cart"},n.a.createElement(ze,null)),n.a.createElement(o.b,{exact:!0,path:"/OwnedCourses"},n.a.createElement(Ye,null)),n.a.createElement(o.b,{exact:!0,path:"/activeCourse"},n.a.createElement($e,null)),n.a.createElement(o.b,{exact:!0,path:"/teacherhome"},n.a.createElement(et,null)),n.a.createElement(o.b,{exact:!0,path:"/teachers"},n.a.createElement(Ze,null)),n.a.createElement(o.b,{exact:!0,path:"/admin"},n.a.createElement(ct,null)),n.a.createElement(o.b,{exact:!0,path:"/adminorder"},n.a.createElement(ot,null)),n.a.createElement(o.b,{exact:!0,path:"/allcourses"},n.a.createElement(it,null)),n.a.createElement(o.b,{exact:!0,path:"/contact"},n.a.createElement(bt,null)),n.a.createElement(o.b,{exact:!0,path:"/About"},n.a.createElement(Nt,null)),n.a.createElement(o.b,{exact:!0,path:"/forgotpassword"},n.a.createElement(dt,null)),n.a.createElement(o.b,{exact:!0,path:"/resetPassword/:hash"},n.a.createElement(_t,null)),n.a.createElement(o.b,{exact:!0,path:"/resetPassword"},n.a.createElement(_t,null)),n.a.createElement(o.b,{exact:!0,path:"/"},n.a.createElement(K,null))))),n.a.createElement(ie,null)))};s.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(Ot,null)),document.getElementById("root"))}},[[55,1,2]]]);
//# sourceMappingURL=main.b17ed32e.chunk.js.map